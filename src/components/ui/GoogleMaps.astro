---
const apiKey = import.meta.env.PUBLIC_GOOGLE_MAPS_API_KEY;
const lat = 5.96269;
const lng = 80.70697;
---

<!-- <div id="map" style="width:100%; height:100%;;"></div> --><!-- google static map maker https://staticmapmaker.com/google/ -->
<iframe
  id="map"
  src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3968.234220550645!2d80.7043936!3d5.96244!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ae13727a242c161%3A0x9cd10ff72750f267!2sHiriketiya%20Lucky%20Surf%20School!5e0!3m2!1sen!2sau!4v1769583760608!5m2!1sen!2sau"
  width="100%"
  height="100%"
  style="border:0;"
  allowfullscreen=""
  loading="lazy"
  referrerpolicy="no-referrer-when-downgrade"></iframe>

<style>
  #map {
    width: 100%;
    height: 400px;

    border-radius: 1rem;
    overflow: hidden;
  }

  @media (min-width: 1100px) {
    #map {
      height: 100%;
    }
  }
</style>

<!-- 
<script is:inline>
  async function initMap() {
    const { Map } = await google.maps.importLibrary('maps');
    const { AdvancedMarkerElement } = await google.maps.importLibrary('marker');

    const map = new Map(document.getElementById('map'), {
      center: { lat: 5.96269, lng: 80.70697 },
      zoom: 15,
      mapId: 'HIRIKETIYA_MAP', // optionnel (styles)
      disableDefaultUI: true,
    });

    /*    
    const map = new google.maps.Map(document.getElementById('map'), {
      center: point,
      zoom: 15,
      monochrome: true,
      variant: 'light',
      styles: [
        {
          id: 'infrastructure',
          geometry: {
            visible: true,
          },
        },
        {
          id: 'pointOfInterest',
          geometry: {
            visible: true,
          },
        },
      ],
    });
 */

    const marker = new AdvancedMarkerElement({
      map,
      position: { lat: 5.96269, lng: 80.70697 },
      title: 'Lucky Surf School â€“ Hiriketiya',
    });

    const info = new google.maps.InfoWindow({
      content: `
        <h1><strong>Hiriketiya Lucky Surf School</strong></h1>
        <p>Hiriketiya Beach Rd, Dikwella 81200, Sri Lanka</p>
        <a href="https://maps.google.com/?q=Lucky+Surf+School+Hiriketiya"
          target="_blank" rel="noopener">
          Open in Google Maps
        </a>
      `,
    });

    marker.addListener('click', () => {
      info.open(map, marker);
    });
  }

  window.initMap = initMap;
</script>

<script
  src={`https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap`}
  async
  defer></script>
-->
